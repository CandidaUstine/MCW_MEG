function [pos] = megsensorpositions(scannertype)
%MEGSENSORPOSITIONS
%  MEGSENSORPOSITIONS returns the 3-d position of each MEG sensor.
%

% Written by Colin Humphries
% 6/2011

DEFAULT_SCANNER_TYPE = 'vectorviewmeg';

if nargin < 1
  scannertype = DEFAULT_SCANNER_TYPE;
end

switch lower(scannertype)
 case 'vectorviewmag'
 pos = [-0.1066 0.0464 -0.0604;...
        -0.102 0.0631 -0.0256;...
        -0.1085 0.0302 -0.0266;...
        -0.1099 0.0131 -0.0627;...
        -0.1074 0.0329 0.008;...
        -0.0989 0.0403 0.0413;...
        -0.1011 0.0044 0.0408;...
        -0.1083 -0.0011 0.0071;...
        -0.0861 0.0988 0.009;...
        -0.0887 0.0757 0.0412;...
        -0.0702 0.0758 0.0707;...
        -0.1003 0.0659 0.0081;...
        -0.0808 0.0413 0.072;...
        -0.0526 0.0406 0.0952;...
        -0.0537 0.0059 0.0969;...
        -0.0829 0.0062 0.0728;...
        -0.0637 0.1254 0.0136;...
        -0.0332 0.1397 0.0174;...
        -0.0337 0.1274 0.0485;...
        -0.0672 0.1089 0.0443;...
        -0.0358 0.1048 0.075;...
        0.0001 0.0775 0.0967;...
        -0.0184 0.044 0.1063;...
        -0.0368 0.0753 0.0922;...
        -0.0185 0.0105 0.1096;...
        0.0186 0.0105 0.1096;...
        0.0186 -0.0233 0.1059;...
        -0.0185 -0.0237 0.1058;...
        0.0001 0.1445 0.0187;...
        0.0001 0.1316 0.05;...
        0.0331 0.1397 0.0173;...
        0.0638 0.1253 0.0135;...
        0.0671 0.1088 0.0444;...
        0.0338 0.1273 0.0486;...
        0.0001 0.1093 0.0771;...
        0.0358 0.1048 0.075;...
        0.0368 0.0752 0.0923;...
        0.0184 0.0442 0.1062;...
        0.0525 0.0406 0.0953;...
        0.0809 0.0413 0.0721;...
        0.0828 0.0061 0.0728;...
        0.0535 0.0062 0.097;...
        0.0862 0.0986 0.0089;...
        0.1003 0.066 0.0082;...
        0.0887 0.0757 0.0412;...
        0.0699 0.0758 0.0709;...
        0.0989 0.0404 0.0413;...
        0.1074 0.0329 0.0081;...
        0.1083 -0.0011 0.0068;...
        0.101 0.0044 0.041;...
        0.102 0.063 -0.026;...
        0.1065 0.0469 -0.06;...
        0.1098 0.0131 -0.0622;...
        0.1083 0.0301 -0.0262;...
        -0.1088 -0.0032 -0.0284;...
        -0.1017 -0.036 -0.0281;...
        -0.0951 -0.0524 -0.0623;...
        -0.1068 -0.0205 -0.0625;...
        -0.1017 -0.0339 0.0056;...
        -0.0952 -0.0308 0.0391;...
        -0.0781 -0.0628 0.0394;...
        -0.0866 -0.064 0.0055;...
        -0.0758 -0.0797 -0.0621;...
        -0.0861 -0.066 -0.0282;...
        -0.0632 -0.0905 -0.0278;...
        -0.0489 -0.0994 -0.0621;...
        -0.0786 -0.0287 0.0696;...
        -0.0518 -0.0277 0.0927;...
        -0.0181 -0.0542 0.0923;...
        -0.0552 -0.0627 0.0707;...
        -0.0513 -0.0861 0.0397;...
        -0.0335 -0.1033 0.0062;...
        -0.0331 -0.1051 -0.0278;...
        -0.0636 -0.0884 0.006;...
        -0.0186 -0.0801 0.069;...
        0.0186 -0.0802 0.0689;...
        0.0169 -0.0972 0.0397;...
        -0.017 -0.0972 0.0397;...
        0 -0.1086 0.007;...
        0 -0.1106 -0.0275;...
        0.017 -0.1098 -0.0618;...
        -0.0171 -0.1098 -0.0619;...
        0.0517 -0.0276 0.0928;...
        0.0786 -0.0284 0.0698;...
        0.0553 -0.0628 0.0706;...
        0.0182 -0.0542 0.0922;...
        0.0513 -0.0861 0.0397;...
        0.0637 -0.0884 0.0062;...
        0.033 -0.1051 -0.0277;...
        0.0333 -0.1034 0.0063;...
        0.0952 -0.0306 0.0392;...
        0.1017 -0.0338 0.0058;...
        0.0866 -0.0639 0.0056;...
        0.0781 -0.0629 0.0394;...
        0.063 -0.0906 -0.0276;...
        0.0861 -0.0661 -0.028;...
        0.0757 -0.0798 -0.062;...
        0.0488 -0.0994 -0.0621;...
        0.1087 -0.0033 -0.028;...
        0.1068 -0.0206 -0.0621;...
        0.0951 -0.0524 -0.062;...
        0.1017 -0.0361 -0.0278];  
    case 'vectorviewmeg'
        glist = [];
        mlist = [];
        list = [];
        new = [];
        fiff = '/home/custine/MEG/data/krns_kr3/9567/s5/9567_s5_run1_raw.fif';
        hdr = ft_read_header(fiff);
        for i = 1:306
            if hdr.orig.chs(i).coil_type == 3024
                new = hdr.orig.chs(i).loc;
                new = new(1:3)';
                mlist = vertcat(mlist, new);
            elseif hdr.orig.chs(i).coil_type == 3012
                new = hdr.orig.chs(i).loc;
                new = new(1:3)';
                glist = vertcat(glist, new);
            end
            new = [];
            new = hdr.orig.chs(i).loc;
            new = new(1:3)';
            list = vertcat(list, new);
            new = [];
        end
        pos = list;
 otherwise
  error('Unknown scanner type');
end